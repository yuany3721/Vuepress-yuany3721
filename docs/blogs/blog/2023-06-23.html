<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一次基于LXD的实验室GPU服务器环境配置及踩坑记录 | Vuepress-reco-yuany3721</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <meta name="description" content=" ">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.c30ea535.css" as="style"><link rel="preload" href="/assets/js/app.fac35a68.js" as="script"><link rel="preload" href="/assets/js/4.cca5eb70.js" as="script"><link rel="preload" href="/assets/js/1.f43eb6c5.js" as="script"><link rel="preload" href="/assets/js/9.0b78b5f2.js" as="script"><link rel="prefetch" href="/assets/js/10.24e18764.js"><link rel="prefetch" href="/assets/js/100.1f0cdcbe.js"><link rel="prefetch" href="/assets/js/101.5d7a519f.js"><link rel="prefetch" href="/assets/js/102.3b84c5aa.js"><link rel="prefetch" href="/assets/js/103.83d244a1.js"><link rel="prefetch" href="/assets/js/104.cf7b001c.js"><link rel="prefetch" href="/assets/js/11.4236cc8c.js"><link rel="prefetch" href="/assets/js/12.9af72160.js"><link rel="prefetch" href="/assets/js/13.fcb08109.js"><link rel="prefetch" href="/assets/js/14.c6266ee7.js"><link rel="prefetch" href="/assets/js/15.59f732c2.js"><link rel="prefetch" href="/assets/js/16.106f7a98.js"><link rel="prefetch" href="/assets/js/17.fc051281.js"><link rel="prefetch" href="/assets/js/18.3fcc5efa.js"><link rel="prefetch" href="/assets/js/19.0aa9e778.js"><link rel="prefetch" href="/assets/js/2.d2df9f30.js"><link rel="prefetch" href="/assets/js/20.3ba6e94f.js"><link rel="prefetch" href="/assets/js/21.8bcb5be6.js"><link rel="prefetch" href="/assets/js/22.31dff302.js"><link rel="prefetch" href="/assets/js/23.f601aeb6.js"><link rel="prefetch" href="/assets/js/24.78ba0bdf.js"><link rel="prefetch" href="/assets/js/25.4f99d49f.js"><link rel="prefetch" href="/assets/js/26.64c4c1e2.js"><link rel="prefetch" href="/assets/js/27.fe2b8052.js"><link rel="prefetch" href="/assets/js/28.ed070557.js"><link rel="prefetch" href="/assets/js/29.44d22f1a.js"><link rel="prefetch" href="/assets/js/30.332a6f58.js"><link rel="prefetch" href="/assets/js/31.b9060e35.js"><link rel="prefetch" href="/assets/js/32.410e110d.js"><link rel="prefetch" href="/assets/js/33.7bd6be80.js"><link rel="prefetch" href="/assets/js/34.4c721eed.js"><link rel="prefetch" href="/assets/js/35.7e688fba.js"><link rel="prefetch" href="/assets/js/36.45b1dff7.js"><link rel="prefetch" href="/assets/js/37.1fc2663c.js"><link rel="prefetch" href="/assets/js/38.42e02213.js"><link rel="prefetch" href="/assets/js/39.60c32bc4.js"><link rel="prefetch" href="/assets/js/40.c7003a3a.js"><link rel="prefetch" href="/assets/js/41.41d99cb0.js"><link rel="prefetch" href="/assets/js/42.8532630d.js"><link rel="prefetch" href="/assets/js/43.7c2a632a.js"><link rel="prefetch" href="/assets/js/44.1bd753a7.js"><link rel="prefetch" href="/assets/js/45.b5b878df.js"><link rel="prefetch" href="/assets/js/46.721f0d6f.js"><link rel="prefetch" href="/assets/js/47.0ab4737f.js"><link rel="prefetch" href="/assets/js/48.ff7cf79f.js"><link rel="prefetch" href="/assets/js/49.42e7c8a2.js"><link rel="prefetch" href="/assets/js/5.e0822530.js"><link rel="prefetch" href="/assets/js/50.62e8db78.js"><link rel="prefetch" href="/assets/js/51.61506a58.js"><link rel="prefetch" href="/assets/js/52.3cb42e28.js"><link rel="prefetch" href="/assets/js/53.0bd7ba21.js"><link rel="prefetch" href="/assets/js/54.5c90e82f.js"><link rel="prefetch" href="/assets/js/55.686e5820.js"><link rel="prefetch" href="/assets/js/56.c3ee97fe.js"><link rel="prefetch" href="/assets/js/57.6c3a5388.js"><link rel="prefetch" href="/assets/js/58.d9f17c44.js"><link rel="prefetch" href="/assets/js/59.fca10ffd.js"><link rel="prefetch" href="/assets/js/6.5764ed17.js"><link rel="prefetch" href="/assets/js/60.193707bb.js"><link rel="prefetch" href="/assets/js/61.4393f2fa.js"><link rel="prefetch" href="/assets/js/62.9b43a4aa.js"><link rel="prefetch" href="/assets/js/63.dcae1882.js"><link rel="prefetch" href="/assets/js/64.9793b082.js"><link rel="prefetch" href="/assets/js/65.69844407.js"><link rel="prefetch" href="/assets/js/66.262d592b.js"><link rel="prefetch" href="/assets/js/67.57a12d55.js"><link rel="prefetch" href="/assets/js/68.ac6e47c0.js"><link rel="prefetch" href="/assets/js/69.2c9e8fa4.js"><link rel="prefetch" href="/assets/js/7.25635ab6.js"><link rel="prefetch" href="/assets/js/70.42213040.js"><link rel="prefetch" href="/assets/js/71.ea661e6c.js"><link rel="prefetch" href="/assets/js/72.b3f4fc7e.js"><link rel="prefetch" href="/assets/js/73.c1e9fbe4.js"><link rel="prefetch" href="/assets/js/74.666552ba.js"><link rel="prefetch" href="/assets/js/75.f0473332.js"><link rel="prefetch" href="/assets/js/76.d7417818.js"><link rel="prefetch" href="/assets/js/77.f2a87929.js"><link rel="prefetch" href="/assets/js/78.33c79c82.js"><link rel="prefetch" href="/assets/js/79.9d5be285.js"><link rel="prefetch" href="/assets/js/8.f6b18623.js"><link rel="prefetch" href="/assets/js/80.0a49fe40.js"><link rel="prefetch" href="/assets/js/81.f30f265a.js"><link rel="prefetch" href="/assets/js/82.e94badde.js"><link rel="prefetch" href="/assets/js/83.d3e6a930.js"><link rel="prefetch" href="/assets/js/84.cadf6d38.js"><link rel="prefetch" href="/assets/js/85.fc5b88f6.js"><link rel="prefetch" href="/assets/js/86.943feb08.js"><link rel="prefetch" href="/assets/js/87.81f597f6.js"><link rel="prefetch" href="/assets/js/88.108461ea.js"><link rel="prefetch" href="/assets/js/89.8ef37c80.js"><link rel="prefetch" href="/assets/js/90.c4277af6.js"><link rel="prefetch" href="/assets/js/91.ead41ebc.js"><link rel="prefetch" href="/assets/js/92.4c4e3478.js"><link rel="prefetch" href="/assets/js/93.753309d1.js"><link rel="prefetch" href="/assets/js/94.1d8e61c9.js"><link rel="prefetch" href="/assets/js/95.478ae333.js"><link rel="prefetch" href="/assets/js/96.68535697.js"><link rel="prefetch" href="/assets/js/97.2eb0eb09.js"><link rel="prefetch" href="/assets/js/98.1d5d4b36.js"><link rel="prefetch" href="/assets/js/99.63a198df.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c30ea535.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-2b92a942><div data-v-2b92a942><div class="password-shadow password-wrapper-out" style="display:none;" data-v-24de1186 data-v-2b92a942 data-v-2b92a942><h3 class="title" data-v-24de1186 data-v-24de1186>Vuepress-reco-yuany3721</h3> <p class="description" data-v-24de1186 data-v-24de1186> </p> <label id="box" class="inputBox" data-v-24de1186 data-v-24de1186><input type="password" value="" data-v-24de1186> <span data-v-24de1186>Konck! Knock!</span> <button data-v-24de1186>OK</button></label> <div class="footer" data-v-24de1186 data-v-24de1186><span data-v-24de1186><i class="iconfont reco-theme" data-v-24de1186></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-24de1186>vuePress-theme-reco</a></span> <span data-v-24de1186><i class="iconfont reco-copyright" data-v-24de1186></i> <a data-v-24de1186><span data-v-24de1186>yuany3721</span>
            
          <span data-v-24de1186>2022 - </span>
          2025
        </a></span></div></div> <div class="hide" data-v-2b92a942><header class="navbar" data-v-2b92a942><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Vuepress-reco-yuany3721" class="logo"> <span class="site-name">Vuepress-reco-yuany3721</span></a> <div class="links"><!----> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/blog/" class="nav-link"><i class="undefined"></i>
  blog
</a></li><li class="dropdown-item"><!----> <a href="/categories/随记/" class="nav-link"><i class="undefined"></i>
  随记
</a></li><li class="dropdown-item"><!----> <a href="/categories/学习笔记/" class="nav-link"><i class="undefined"></i>
  学习笔记
</a></li><li class="dropdown-item"><!----> <a href="/categories/杂谈/" class="nav-link"><i class="undefined"></i>
  杂谈
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-suggestion"></i>
      更新日志
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/updatelog/Web/" class="nav-link"><i class="undefined"></i>
  Web
</a></li><li class="dropdown-item"><!----> <a href="/updatelog/Bot/" class="nav-link"><i class="undefined"></i>
  Bot
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      API文档
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/readdoc/glm3/" class="nav-link"><i class="undefined"></i>
  GLM3
</a></li><li class="dropdown-item"><!----> <a href="/readdoc/AD9910/" class="nav-link"><i class="undefined"></i>
  AD9910
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-2b92a942></div> <aside class="sidebar" data-v-2b92a942><div class="personal-info-wrapper" data-v-29bd5bbe data-v-2b92a942><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-29bd5bbe> <h3 class="name" data-v-29bd5bbe>
    yuany3721
  </h3> <div class="num" data-v-29bd5bbe><div data-v-29bd5bbe><h3 data-v-29bd5bbe>93</h3> <h6 data-v-29bd5bbe>文章</h6></div> <div data-v-29bd5bbe><h3 data-v-29bd5bbe>28</h3> <h6 data-v-29bd5bbe>标签</h6></div></div> <ul class="social-links" data-v-29bd5bbe></ul> <hr data-v-29bd5bbe></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/blog/" class="nav-link"><i class="undefined"></i>
  blog
</a></li><li class="dropdown-item"><!----> <a href="/categories/随记/" class="nav-link"><i class="undefined"></i>
  随记
</a></li><li class="dropdown-item"><!----> <a href="/categories/学习笔记/" class="nav-link"><i class="undefined"></i>
  学习笔记
</a></li><li class="dropdown-item"><!----> <a href="/categories/杂谈/" class="nav-link"><i class="undefined"></i>
  杂谈
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-suggestion"></i>
      更新日志
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/updatelog/Web/" class="nav-link"><i class="undefined"></i>
  Web
</a></li><li class="dropdown-item"><!----> <a href="/updatelog/Bot/" class="nav-link"><i class="undefined"></i>
  Bot
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      API文档
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/readdoc/glm3/" class="nav-link"><i class="undefined"></i>
  GLM3
</a></li><li class="dropdown-item"><!----> <a href="/readdoc/AD9910/" class="nav-link"><i class="undefined"></i>
  AD9910
</a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-24de1186 data-v-2b92a942><h3 class="title" data-v-24de1186 data-v-24de1186>一次基于LXD的实验室GPU服务器环境配置及踩坑记录</h3> <!----> <label id="box" class="inputBox" data-v-24de1186 data-v-24de1186><input type="password" value="" data-v-24de1186> <span data-v-24de1186>Konck! Knock!</span> <button data-v-24de1186>OK</button></label> <div class="footer" data-v-24de1186 data-v-24de1186><span data-v-24de1186><i class="iconfont reco-theme" data-v-24de1186></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-24de1186>vuePress-theme-reco</a></span> <span data-v-24de1186><i class="iconfont reco-copyright" data-v-24de1186></i> <a data-v-24de1186><span data-v-24de1186>yuany3721</span>
            
          <span data-v-24de1186>2022 - </span>
          2025
        </a></span></div></div> <div data-v-2b92a942><main class="page"><section><div class="page-title"><h1 class="title">一次基于LXD的实验室GPU服务器环境配置及踩坑记录</h1> <div data-v-6b827e97><i class="iconfont reco-account" data-v-6b827e97><span data-v-6b827e97>yuany3721</span></i> <i class="iconfont reco-date" data-v-6b827e97><span data-v-6b827e97>2023/7/18</span></i> <!----> <i class="tags iconfont reco-tag" data-v-6b827e97><span class="tag-item" data-v-6b827e97>Ubuntu</span><span class="tag-item" data-v-6b827e97>LXD</span></i></div></div> <div class="theme-reco-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#前言">前言</a></li><li><a href="#架构选择">架构选择</a></li><li><a href="#环境说明及前置工作">环境说明及前置工作</a></li><li><a href="#配置lxd-gpu环境">配置LXD-GPU环境</a></li><li><a href="#管理员指北">管理员指北</a></li><li><a href="#用户指南">用户指南</a></li><li><a href="#参考资料">参考资料</a></li></ul></div><p></p> <h2 id="前言">前言</h2> <p>本文的受众为实验室的公用GPU服务器管理员，需要有一定的Linux基础，或者对此感兴趣的普通用户。</p> <p>如果您并不关心为何这样配置服务器环境，以及对如何部署、管理这样一台服务器不感兴趣，可以选择跳过这些内容，前往<a href="/blogs/blog/2023-06-23.html#管理员指北">管理员指北</a>、<a href="/blogs/blog/2023-06-23.html#用户指南">用户指南</a>。</p> <p>事情的起因是实验室购入了一台公用GPU服务器，考虑到每个人所需的软件和环境差异巨大，因此，需要一种方案来满足多用户对服务器的使用的需求。</p> <p>这里列出一些期望达到的目标：</p> <ul><li>不同用户之间不能相互影响</li> <li>用户要能便捷地访问服务器</li> <li>用户的操作不能影响到宿主机的稳定运行</li> <li>用户应当可以自由地访问外部网络</li> <li>用户应当可以使用GPU，不同用户可以共享GPU</li> <li>用户应当可以自由地配置程序运行环境</li> <li>管理员应该能轻松地管理用户</li></ul> <p><strong>注意：</strong> <em>本次部署属于科研基础架构的部署，属于各种软件的工程实现和部署，本身并不具备科研价值，同样也无法基于该方法搭建的服务器实验运行结果、实验数据产出做出任何保障。</em></p> <h2 id="架构选择">架构选择</h2> <p>从最初的需求出发，我们想要不同用户之间不能相互影响，也就是在用户级别进行隔离，主流的隔离方案包括Docker（容器化）、LXC（Linux容器）、OpenVZ（虚拟机）。</p> <p>首先是容器方案，以Docker为例。考虑到开销问题，Ubuntu in Docker 首先被排除备选。Docker有成熟的<a href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html#container-runtimes" target="_blank" rel="noopener noreferrer">NVIDIA-Docker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>支持，可以允许不同容器之间共享GPU，Docker成熟的网络接口也使容器的可访问性得到了保障，同时可以使用Linux内核的<a href="https://manpages.ubuntu.com/manpages/focal/en/man7/cgroups.7.html" target="_blank" rel="noopener noreferrer">cgroups<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>灵活分配硬件资源，是一个不错的备选方案。</p> <p>OpenVZ、KVM、Xen等虚拟机方案在资源利用上不够轻量，管理上相较Docker也复杂很多，同样基于开销问题将其排除备选。</p> <p>LXC可以理解为内核级的容器，允许不同容器之间共享GPU，相比Docker更加轻量，也可以更方便地使用系统资源。</p> <p>Docker的隔离更偏向于运行环境的隔离，将应用和全部依赖环境全部打包到一个单一对象中，可以在不包含完整的操作系统的情况下运行应用，而LXC基于namespaces进行隔离，可以用<strong>更低的开销</strong>提供灵活的系统环境，支持用户在系统层面肆意整活，这给了我充足的理由选择LXC。<strong>甚至</strong>用户可以在LXC容器中再套娃一个Docker，既然如此，也没什么好纠结的了。</p> <blockquote><p><strong>什么？你问LXD？</strong></p></blockquote> <blockquote><p>那只是我用原生LXC觉得太麻烦，并且解决了LXC支持跨主机容器迁移不完全、容器管理复杂等问题的备胎，不提也罢（×）。
by yuany3721</p></blockquote> <br> <details><summary>如果您对LXC与LXD的区别感兴趣，您可以展开这里了解一些信息</summary> <p>就在本次部署的两周前，LXD于2023年6月4日正式移交给Canonical，<a href="https://linuxcontainers.org/lxd/#project-announcement">公告</a>中展示了这一动作的具体变化。</p> <p>就使用体验而言，LXD无疑是远超LXC的，尽管它们似乎（可能就是）用的同一种实现方式和内核。</p> <p>以下是一些功能在使用上的区别，也正是复杂性的问题，使我放弃了直接使用LXC的想法，转而由LXD实现本次部署。</p> <table><tr><th>功能</th><th>LXC</th><th>LXD</th></tr> <tr><td>新建容器</td><td><code>lxc-create -t download -n template -- \ <br>
                --dist ubuntu --release jammy --arch amd64</code></td><td><code>lxc launch tuna-images:ubuntu/jammy template</code></td></tr> <tr><td>启动容器</td><td><code>lxc-start -n template</code></td><td><code>lxc start template</code></td></tr> <tr><td>向容器中注入命令</td><td><code>lxc-attach -n template -- apt update</code></td><td><code>lxc exec template -- apt update</code></td></tr> <tr><td>修改容器配置</td><td><code>vi path/to/lxc/template/config</code></td><td><code>lxc config edit template</code></td></tr> <tr><td>挂载GPU</td><td><code>for x in $(ls /dev/nvidia*); do<br>
                echo lxc.mount.entry = $x $(echo $x | cut -b 2-) none bind,optional,create=file &gt;&gt; path/to/lxc/template/config<br>
                done</code></td><td><code>lxc config device add template gpu gpu</code></td></tr></table> <p>上述举例如果不能使您窥见一斑，您可以尝试参照<a href="https://linuxcontainers.org/lxc/manpages/">LXC文档</a>、<a href="https://documentation.ubuntu.com/lxd/en/latest/">LXD文档</a>进行尝试。</p></details> <br> <h2 id="环境说明及前置工作">环境说明及前置工作</h2> <h3 id="环境说明"><strong>环境说明</strong></h3> <p>本次的物理机硬件环境如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>CPU: Intel(R) Xeon(R) Platinum 8336C CPU
RAM: Samsung DDR4 SingleBitECC 3200 MT/s * 4
GPU: NVIDIA GeForce RTX 4090 * 2
Disk: Samsung SSD 980 1TB + WUH721816AL 14TB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>宿主机所在网络环境如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>gateway: 172.16.60.1/23
mask: 255.255.254.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="前置工作"><strong>前置工作</strong></h3> <ol><li>安装Ubuntu Server</li></ol> <p>选择Ubuntu Server 22.04.2作为宿主机的系统，使用rufus制作系统启动盘后插入服务器，使用SuperMicroIPMIView扫描IPMI端口，连接IPMI服务安装系统，细节省略。</p> <p><em>这里其实可以通过网络安装ubuntu，但是没有折腾，mark一下以后有机会进行尝试</em></p> <ol start="2"><li>配置系统环境</li></ol> <p>参考<a href="/blogs/note/linux/2023-06-20.html">Ubuntu Server基本环境配置</a></p> <ul><li><p>配置系统联网超时</p></li> <li><p>配置swap分区</p></li> <li><p>配置数据盘挂载</p> <p>将<code>WUH721816AL 14TB</code>格式化为<code>/dev/sda1</code>，并挂载在<code>/data</code>目录</p> <p>设置data目录权限：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">755</span> /data
$ <span class="token function">sudo</span> <span class="token function">chmod</span> +t /data
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>配置OpenSSH（可选）</p> <p>允许密码登录、修改服务端口为33</p></li> <li><p>配置防火墙</p> <p>参考<a href="/blogs/note/linux/2021-09-28.html">ufw防火墙配置</a></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> ufw allow <span class="token number">33</span>/tcp
$ <span class="token function">sudo</span> ufw <span class="token builtin class-name">enable</span>
$ <span class="token function">sudo</span> ufw reload
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <ol start="3"><li>配置网桥</li></ol> <p>在类似我们的方案中，<a href="https://abcdabcd987.com/setup-shared-gpu-server-for-labs/" target="_blank" rel="noopener noreferrer">为实验室建立公用GPU服务器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://github.com/shenuiuin/LXD_GPU_SERVER" target="_blank" rel="noopener noreferrer">实验室GPU服务器的LXD虚拟化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>等实操中（不知道为什么）采用了基于iptables、端口映射的技术实现绕过宿主机访问容器。</p> <p><strong>但是！这一点也不优雅！</strong> 服务器就在内网，又不缺IPv4地址，为何要加上端口号访问呢？因此，我在宿主机中建立了一个网桥，lxc容器通过网桥直接从网关DHCP获取IP。</p> <p>在Ubuntu22.04中，系统默认使用netplan配置网络。我们直接以修改netplan配置的方式新建一个网桥：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> /etc/netplan

<span class="token comment"># 备份默认配置</span>
$ <span class="token function">sudo</span> <span class="token function">cp</span> 00-installer-config.yaml 00-eno1-br0-bridge.yaml
$ <span class="token function">sudo</span> <span class="token function">mv</span> 00-installer-config.yaml 00-installer-config.yaml.bak

$ <span class="token function">sudo</span> <span class="token function">vi</span> 00-eno1-br0-bridge.yaml

network:
  renderer: networkd
  ethernets:
    eno1:
    <span class="token comment"># 固定IP</span>
      dhcp4: no
  bridges:
    br0:
      interfaces: <span class="token punctuation">[</span>eno1<span class="token punctuation">]</span>
      <span class="token comment"># 这是修改网桥之前eno1网卡获取到的ip，保持一致可以避免一些麻烦</span>
      addresses: <span class="token punctuation">[</span><span class="token number">172.16</span>.61.82/23<span class="token punctuation">]</span>
      routes:
        <span class="token comment"># 配置默认网关，gateway4已经被标记为deprecated不建议使用</span>
        - to: default
          via: <span class="token number">172.16</span>.60.1
          <span class="token comment"># 加上权重，不进行配置的话产生冲突，使用route命令查看路由表会看到eno1和br0两条default路由，导致无法联网</span>
          metric: <span class="token number">100</span>
      nameservers:
        addresses:
        <span class="token comment"># DNS服务器，edit as you like</span>
          - <span class="token number">114.114</span>.114.114
          - <span class="token number">8.8</span>.8.8
          - <span class="token number">8.8</span>.4.4
  version: <span class="token number">2</span>

<span class="token comment"># 应用网络</span>
$ <span class="token function">sudo</span> netplan try
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>检查网络配置，<code>ip a</code>类似这样：</p> <blockquote><p>2: eno1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq master br0 state UP group default qlen 1000<br>
link/ether 3c:ec:ef:cc:60:28 brd ff:ff:ff:ff:ff:ff<br>
altname enp6s0<br>
5: br0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000<br>
link/ether d6:87:d1:44:19:7c brd ff:ff:ff:ff:ff:ff<br>
inet 172.16.61.82/23 brd 172.16.61.255 scope global br0<br>
valid_lft forever preferred_lft forever<br>
inet6 fe80::d487:d1ff:fe44:197c/64 scope link<br>
valid_lft forever preferred_lft forever</p></blockquote> <p><code>route</code>类似这样：</p> <blockquote><p>Kernel IP routing table<br>
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface<br>
default            _gateway        0.0.0.0              UG    100     0        0     br0<br>
172.16.60.0     0.0.0.0            255.255.254.0   U       0        0        0     br0</p></blockquote> <h2 id="配置lxd-gpu环境">配置LXD-GPU环境</h2> <h3 id="配置运行环境"><strong>配置运行环境</strong></h3> <ol><li>安装LXC、LXD</li></ol> <p>这里的LXD使用<code>5.0/stable</code>版本，请使用前先查阅<a href="https://documentation.ubuntu.com/lxd/en/latest/installing/#how-to-install-lxd" target="_blank" rel="noopener noreferrer">LXD官方安装指引<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>修改安装版本号。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt</span> update
$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> lxc
$ <span class="token function">sudo</span> snap instll lxd --channel<span class="token operator">=</span><span class="token number">5.0</span>/stable
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果需要的话，可能有必要进行<a href="/blogs/note/linux/2023-01-10.html">apt换源</a></p> <p>由于snap只有server outside the Great Firewall，所以提示<code>Unable to contact snap store</code>的时候，可能需要一点点科学上网手段，以下是临时设置snap代理的方法：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> snap <span class="token builtin class-name">set</span> system proxy.http<span class="token operator">=</span><span class="token string">&quot;your proxy url&quot;</span>
$ <span class="token function">sudo</span> snap <span class="token builtin class-name">set</span> system proxy.https<span class="token operator">=</span><span class="token string">&quot;your proxy url&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>检查lxc的依赖</li></ol> <p>使用<code>lxc-checkconfig</code>检查lxc容器的必要组件。具体到本次配置，该命令显示系统存在以下问题：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Cgroup v1 systemd controller: missing
Cgroup v1 freezer controller: missing
Cgroup ns_cgroup: required
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在Ubuntu22.04中，默认情况下不会启用cgroup v1 systemd controller和ns_cgroup。编辑<code>/etc/default/grub</code>：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>GRUB_CMDLINE_LINUX=&quot;cgroup_enable=memory systemd.unified_cgroup_hierarchy=0 cgroup_namespace.enable=1&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>保存并退出后，更新GRUB配置并重新启动系统以应用修改。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">update-grub</span>
$ <span class="token function">sudo</span> <span class="token function">reboot</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li>配置防火墙以适应网桥</li></ol> <p>在Ubuntu22.04（大概率以及未来的版本）中，ufw改变了它的默认规则，需要修改网桥的route属性，否则会导致lxc容器无法从外部网关获取IP，即使正确地配置了daemon、dhcp等所有服务。参考<a href="https://discuss.linuxcontainers.org/t/ubuntu-22-04-lxd-networking-issue-not-getting-ips-and-solution-please-verify-correctness/14739" target="_blank" rel="noopener noreferrer">Ubuntu 22.04 LXD networking issue, not getting IPs, and solution<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> ufw allow out on br0
$ <span class="token function">sudo</span> ufw route allow out on br0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="配置基础镜像"><strong>配置基础镜像</strong></h3> <p><em>注：以下配置过程中，<code>$</code>开头表示命令在宿主机中运行，<code>root@template:~#</code>开头表示命令在template容器中以root身份（exec进去的）运行。</em></p> <ol><li>初始化LXD环境</li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ lxd init
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>以下是我的配置选项，仅供参考：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Would you like to use LXD clustering? (yes/no) [default=no]: no
Do you want to configure a new storage pool? (yes/no) [default=yes]:
Name of the new storage pool [default=default]: lxd-pool
Name of the storage backend to use (cephobject, dir, lvm, zfs, btrfs, ceph) [default=zfs]:
Create a new ZFS pool? (yes/no) [default=yes]:
Would you like to use an existing empty block device (e.g. a disk or partition)? (yes/no) [default=no]:
Size in GiB of the new loop device (1GiB minimum) [default=30GiB]: 50GiB
Would you like to connect to a MAAS server? (yes/no) [default=no]:
Would you like to create a new local network bridge? (yes/no) [default=yes]: no
Would you like to configure LXD to use an existing bridge or host interface? (yes/no) [default=no]: yes
Name of the existing bridge or host interface: br0
Would you like the LXD server to be available over the network? (yes/no) [default=no]:
Would you like stale cached images to be updated automatically? (yes/no) [default=yes]:
Would you like a YAML &quot;lxd init&quot; preseed to be printed? (yes/no) [default=no]: yes
config: {}
networks: []
storage_pools:
- config:
    size: 50GiB
  description: &quot;&quot;
  name: lxd-pool
  driver: zfs
profiles:
- config: {}
  description: &quot;&quot;
  devices:
    eth0:
      name: eth0
      nictype: bridged
      parent: br0
      type: nic
    root:
      path: /
      pool: lxd-pool
      type: disk
  name: default
projects: []
cluster: null
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p>修改默认配置文件，限制默认存储大小，避免一个容器占满硬盘</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ lxc profile edit default
config: <span class="token punctuation">{</span><span class="token punctuation">}</span>
description: Default LXD profile
devices:
  eth0:
    name: eth0
    nictype: bridged
    parent: br0
    type: nic
  root:
    path: /
    pool: lxd-pool
    size: 50GB
    type: disk
name: default
used_by: <span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ol start="2"><li>创建基础容器模板</li></ol> <p>添加清华LXC镜像，创建<code>template</code>容器模板</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ lxc remote <span class="token function">add</span> tuna-images https://mirrors.tuna.tsinghua.edu.cn/lxc-images/ --protocol<span class="token operator">=</span>simplestreams --public
$ lxc launch tuna-images:ubuntu/jammy template
Creating template
Starting template
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>配置基本环境</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 进入容器</span>
$ lxc <span class="token builtin class-name">exec</span> template <span class="token function">bash</span>

<span class="token comment"># 修改默认用户的密码 </span>
root@template:~<span class="token comment"># passwd ubuntu </span>
yourpassword

<span class="token comment"># 修改时区</span>
root@template:~<span class="token comment"># timedatectl set-timezone Asia/Shanghai</span>

<span class="token comment"># 修改apt源</span>
root@template:~<span class="token comment"># cp /etc/apt/sources.list /etc/apt/sources.list.bak</span>
root@template:~<span class="token comment"># vi /etc/apt/sources.list</span>
<span class="token comment"># 注释掉源码部分加快apt update速度</span>
deb https://mirrors.ustc.edu.cn/ubuntu/ jammy main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-security main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse
<span class="token comment"># deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy main restricted universe multiverse</span>
<span class="token comment"># deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse</span>
<span class="token comment"># deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse</span>
<span class="token comment"># deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-security main restricted universe multiverse</span>
<span class="token comment"># deb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse</span>

root@template:~<span class="token comment"># apt update</span>
root@template:~<span class="token comment"># apt upgrade -y</span>

<span class="token comment"># 安装ssh server</span>
root@template:~<span class="token comment"># apt install -y openssh-server</span>
<span class="token comment"># 安装必要软件</span>
root@template:~<span class="token comment"># apt install -y ufw net-tools</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><ol start="3"><li>配置GPU环境</li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 挂载gpu</span>
$ lxc config device <span class="token function">add</span> ContainerName gpu gpu

<span class="token comment"># 查看显卡设备文件</span>
$ <span class="token function">ls</span> /dev/nvidia*

<span class="token comment"># 安装显卡驱动</span>
root@template:~<span class="token comment"># apt install -y ubuntu-drivers-common</span>
root@template:~<span class="token comment"># ubuntu-drivers devices</span>
root@template:~<span class="token comment"># ubuntu-drivers autoinstall</span>
root@template:~<span class="token comment"># nvidia-smi</span>

<span class="token comment"># 禁用自动更新(23.08.11update)</span>
root@template:~<span class="token comment"># apt-mark hold *nvidia*</span>
root@template:~<span class="token comment"># apt-mark showhold</span>

<span class="token comment"># 显卡驱动版本</span>
dpkg -l <span class="token operator">|</span> <span class="token function">grep</span> nvidia
<span class="token comment"># NVRM版本</span>
<span class="token function">cat</span> /proc/driver/nvidia/version
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>出现类似以下界面说明显卡驱动配置成功。</p> <p><img src="/assets/img/nvsmi.53d0ecdf.png" alt="nvsmi"></p> <ol start="4"><li>发布<code>template</code>作为基础容器模板</li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ lxc stop template
$ lxc publish template --alias template --public
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="5"><li>基于<code>template</code>建立带桌面环境的容器模板</li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ lxc launch template template-gnome
$ lxc <span class="token builtin class-name">exec</span> template-gnome

<span class="token comment"># 安装gnome桌面</span>
root@template-gnome:~<span class="token comment"># apt install --no-install-recommends -y ubuntu-desktop</span>
<span class="token comment"># 安装xrdp远程</span>
root@template-gnome:~<span class="token comment"># apt install -y xrdp</span>
root@template-gnome:~<span class="token comment"># systemctl enable xrdp</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>发布<code>template-gnome</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ lxc stop template-gnome
$ lxc publish template-gnome --alias template-gnome --public
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>至此，本次服务器的环境部署就完成了，以下为管理员与用户的使用说明。</strong></p> <h2 id="管理员指北">管理员指北</h2> <p><strong>注意：</strong> 宿主机的权限对您是完全开放的，如果您需要在宿主机中执行任何本节之外的命令，请您执行前务必完全明确您的操作会带来什么后果。</p> <h3 id="如何访问宿主机"><strong>如何访问宿主机</strong></h3> <p>您有两种连接宿主机的方式：</p> <ol><li><p>使用ssh工具访问<strong>宿主机IP的33端口</strong>，并使用<strong>用户名</strong>和<strong>密码</strong>进行认证；</p></li> <li><p>在浏览器中访问<strong>宿主机的IPMI端口IP</strong>，并使用<strong>IPMI用户名</strong>和<strong>IPMI密码</strong>进行认证，进入“远程控制”选项卡，启动控制台。</p></li></ol> <p>这两种方法的区别在于，ssh访问的是Ubuntu系统，您只能在系统级别对宿主机进行控制，使用IPMI访问则可以获得宿主机包括BIOS、硬件在内的完全控制。<strong>如非必要，不建议访问IPMI端口进行管理</strong></p> <h3 id="新建容器"><strong>新建容器</strong></h3> <p>当前已经配置好了<code>template</code>、<code>template-gnome</code>、<code>template-docker</code>三种容器模板，分别代表最基础的命令行容器、带gnome桌面和xrdp远程的容器、带docker环境的命令行容器，推荐用户使用<code>template</code>进行操作。</p> <p>以用户提供的容器名为<code>yuany3721</code>为例，以下操作可以为该用户新建一个容器：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 新建容器</span>
$ lxc launch template-docker yuany3721
<span class="token comment"># 挂载GPU</span>
$ lxc config device <span class="token function">add</span> yuany3721 gpu gpu
<span class="token comment"># 挂载硬盘</span>
$ <span class="token function">sudo</span> <span class="token function">mkdir</span> /data/yuany3721/
$ <span class="token function">sudo</span> <span class="token function">chown</span> -R <span class="token number">1000</span>:1000 /data/yuany3721
$ lxc config device <span class="token function">add</span> yuany3721 data disk <span class="token assign-left variable">source</span><span class="token operator">=</span>/data/yuany3721/ <span class="token assign-left variable">path</span><span class="token operator">=</span>/data/
$ lxc config device <span class="token function">add</span> yuany3721 sdata disk <span class="token assign-left variable">source</span><span class="token operator">=</span>/data/share/ <span class="token assign-left variable">path</span><span class="token operator">=</span>/sdata/
<span class="token comment"># 查看容器详情</span>
$ lxc list
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>然后将查看到的容器IP（eth0）告知用户，用户即可使用<code>ssh ubuntu@container-IP</code>访问容器。</p> <p>如果用户需要在容器中使用docker，需要额外修改容器配置如下：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ lxc config <span class="token builtin class-name">set</span> yuany3721 security.nesting <span class="token boolean">true</span>
$ lxc config <span class="token builtin class-name">set</span> yuany3721 security.privileged <span class="token boolean">true</span>
$ lxc restart yuany3721
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="删除容器"><strong>删除容器</strong></h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ lxc stop delcontainer
$ lxc delete delcontainer
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="用户指南">用户指南</h2> <h3 id="联系管理员获取授权"><strong>联系管理员获取授权</strong></h3> <p>您需要告知管理员的信息包括：您的用户名、您是否需要图形界面（推荐无图形界面，性能更好）、您是否希望使用docker</p> <p>管理员会告知您一个IP，您可以通过该IP访问服务器，身份认证的账号为<code>ubuntu</code>，密码为<code>123456</code>。</p> <p><strong>注意：</strong> 访问服务器的账号与您的用户名<strong>无关</strong> ；您在获取授权后请尽快访问服务器并<strong>修改密码</strong></p> <p>默认情况下，数据卷将被挂载于<code>/data</code>（用户目录）和<code>/sdata</code>（共享目录），共享目录的<code>/sdata/model</code>中有常用模型文件。</p> <h3 id="从命令行访问服务器并修改密码"><strong>从命令行访问服务器并修改密码</strong></h3> <p>Ubuntu在输入密码时不会显示输入内容，请不要惊慌，正常输入完毕回车即可。</p> <p>以Windows系统为例，<kbd>Win+R</kbd>打开<code>cmd</code>，输入命令<code>ssh ubuntu@您的IP</code>，访问服务器。</p> <p>提示以下信息时，输入yes回车，然后输入默认密码<code>123456</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>The authenticity of host '172.16.61.xx (172.16.61.xx)' can't be established.
xxxx key fingerprint is SHA256:xxxxxxxxxxxxxxxxxxxxxxx/s.
Are you sure you want to continue connecting (yes/no/[fingerprint])?
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="/assets/img/connect2lxc.59cb63b3.png" alt="connect2lxc"></p> <p>在新出现的命令行中输入<code>passwd ubuntu</code>修改密码，修改成功后就可以使用新的密码登录服务器了。</p> <p><img src="data:image/png;base64,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" alt="passwd"></p> <h3 id="通过xrdp登录图形界面"><strong>通过xrdp登录图形界面</strong></h3> <p>在Windows下，可以使用系统自带的RDP软件，<kbd>Win+R</kbd>打开<code>mstsc</code>，输入管理员给您的IP，点击连接（若出现提示称无法验证远程计算机身份，忽略提示并点击“是”继续连接）。</p> <p><img src="/assets/img/winRDP.81904365.png" alt="winRDP"></p> <p>连接后出现以下界面，在界面中输入账号<code>ubuntu</code>，密码为默认密码或您修改过的密码，点击“OK”，如果信息无误，则可以正常连接到服务器。</p> <p><img src="/assets/img/xrdp.1b739305.png" alt="xrdp"></p> <p>如果您不是Windows机器，Linux可安装remmina访问，Mac可安装Microsoft Remote Desktop访问，操作类似，在此不再赘述。</p> <p>该连接方式的优点是可以获得完整的Linux桌面体验，但当网络环境不佳时操作延时特别大、桌面长时间运行可能会卡死。</p> <h3 id="文件传输"><strong>文件传输</strong></h3> <p>系统配置了一个端口为22的sftp服务器，您可以使用Filezilla等ftp工具连接并使用ftp进行文件传输。</p> <p>当然，您也可以通过远程桌面进行文件拖放，或者使用ssh进行文件传输，任何可以与Linux实体机器进行网络文件传输的工具都可以在该服务器上使用。</p> <h3 id="其它服务器使用方式"><strong>其它服务器使用方式</strong></h3> <p>这里列举几种推荐的使用方式，不同方式的使用场景各不相同，请您在了解各方式的优劣之后，结合自己的需求进行选择：</p> <ol><li><p>使用MobaXterm进行连接，该方法可以在没有桌面环境的情况下，转发单个应用的图形界面。例如您可以选择一个高性能的命令行界面，安装Pycharm之后在远程机器上使用图形化的Pycharm界面。</p></li> <li><p>使用vscode的remote-ssh插件远程连接，该方法可以省去ftp服务器，直接打开远程服务器中的工程，并进行文件的上传下载和修改、程序的修改和运行。</p></li> <li><p>直接使用powershell等工具ssh远程连接。</p></li></ol> <h2 id="参考资料">参考资料</h2> <ol><li><a href="https://abcdabcd987.com/setup-shared-gpu-server-for-labs/" target="_blank" rel="noopener noreferrer">为实验室建立公用GPU服务器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/shenuiuin/LXD_GPU_SERVER" target="_blank" rel="noopener noreferrer">实验室GPU服务器的LXD虚拟化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://wiki.openvz.org/Main_Page" target="_blank" rel="noopener noreferrer">OpenVZ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://linuxcontainers.org/" target="_blank" rel="noopener noreferrer">LXC<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://ubuntu.com/lxd" target="_blank" rel="noopener noreferrer">LXD<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docker.com" target="_blank" rel="noopener noreferrer">Docker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html" target="_blank" rel="noopener noreferrer">NVIDIA container toolkit install guide<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://discuss.linuxcontainers.org/t/ubuntu-22-04-lxd-networking-issue-not-getting-ips-and-solution-please-verify-correctness/14739" target="_blank" rel="noopener noreferrer">LXD networking issue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://askubuntu.com/questions/1406329/how-to-run-cgexec-without-sudo-as-current-user-on-ubuntu-22-04-with-cgroups-v2" target="_blank" rel="noopener noreferrer">Change cgroup enabled<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://storware.eu/blog/xen-vs-kvm-comparison-of-hypervisors/" target="_blank" rel="noopener noreferrer">Xen vs. KVM – Comparison of Hypervisors<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.supermicro.com/en/solutions/management-software/bmc-resources" target="_blank" rel="noopener noreferrer">Supermicro Intelligent Management<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://fabianlee.org/2022/09/20/kvm-creating-a-bridged-network-with-netplan-on-ubuntu-22-04/" target="_blank" rel="noopener noreferrer">KVM: Creating a bridged network<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-1ab38110><li class="level-2" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#前言" class="sidebar-link reco-side-前言" data-v-1ab38110>前言</a></li><li class="level-2" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#架构选择" class="sidebar-link reco-side-架构选择" data-v-1ab38110>架构选择</a></li><li class="level-2" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#环境说明及前置工作" class="sidebar-link reco-side-环境说明及前置工作" data-v-1ab38110>环境说明及前置工作</a></li><li class="level-3" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#环境说明" class="sidebar-link reco-side-环境说明" data-v-1ab38110>环境说明</a></li><li class="level-3" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#前置工作" class="sidebar-link reco-side-前置工作" data-v-1ab38110>前置工作</a></li><li class="level-2" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#配置lxd-gpu环境" class="sidebar-link reco-side-配置lxd-gpu环境" data-v-1ab38110>配置LXD-GPU环境</a></li><li class="level-3" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#配置运行环境" class="sidebar-link reco-side-配置运行环境" data-v-1ab38110>配置运行环境</a></li><li class="level-3" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#配置基础镜像" class="sidebar-link reco-side-配置基础镜像" data-v-1ab38110>配置基础镜像</a></li><li class="level-2" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#管理员指北" class="sidebar-link reco-side-管理员指北" data-v-1ab38110>管理员指北</a></li><li class="level-3" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#如何访问宿主机" class="sidebar-link reco-side-如何访问宿主机" data-v-1ab38110>如何访问宿主机</a></li><li class="level-3" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#新建容器" class="sidebar-link reco-side-新建容器" data-v-1ab38110>新建容器</a></li><li class="level-3" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#删除容器" class="sidebar-link reco-side-删除容器" data-v-1ab38110>删除容器</a></li><li class="level-2" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#用户指南" class="sidebar-link reco-side-用户指南" data-v-1ab38110>用户指南</a></li><li class="level-3" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#联系管理员获取授权" class="sidebar-link reco-side-联系管理员获取授权" data-v-1ab38110>联系管理员获取授权</a></li><li class="level-3" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#从命令行访问服务器并修改密码" class="sidebar-link reco-side-从命令行访问服务器并修改密码" data-v-1ab38110>从命令行访问服务器并修改密码</a></li><li class="level-3" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#通过xrdp登录图形界面" class="sidebar-link reco-side-通过xrdp登录图形界面" data-v-1ab38110>通过xrdp登录图形界面</a></li><li class="level-3" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#文件传输" class="sidebar-link reco-side-文件传输" data-v-1ab38110>文件传输</a></li><li class="level-3" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#其它服务器使用方式" class="sidebar-link reco-side-其它服务器使用方式" data-v-1ab38110>其它服务器使用方式</a></li><li class="level-2" data-v-1ab38110><a href="/blogs/blog/2023-06-23.html#参考资料" class="sidebar-link reco-side-参考资料" data-v-1ab38110>参考资料</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.fac35a68.js" defer></script><script src="/assets/js/4.cca5eb70.js" defer></script><script src="/assets/js/1.f43eb6c5.js" defer></script><script src="/assets/js/9.0b78b5f2.js" defer></script>
  </body>
</html>
