import{_ as t,c as e,a,o}from"./app-YaGH6_b-.js";const r={};function n(i,p){return o(),e("div",null,p[0]||(p[0]=[a("<p>计算机的整个启动过程分成四个阶段。</p><p>一、第一阶段：BIOS</p><p>上个世纪 70 年代初，“只读内存”（read-only memory，缩写为 ROM）发明，开机程序被写入 ROM 芯片，计算机通电后，第一件事就是读取它。</p><p>这块芯片里的程序叫做”基本输出输入系统”（Basic Input/Output System），简称为 BIOS。</p><p>BIOS 中主要存放的程序包括：自诊断程序、CMOS 设置程序、系统自动装载程序和主要 I/O 驱动程序和中断。</p><p>BIOS 程序首先检查，计算机硬件能否满足运行的基本条件，这叫做”硬件自检”（Power-On Self-Test），缩写为 POST。</p><p>如果硬件出现问题，主板会发出不同含义的蜂鸣，启动中止。如果没有问题，屏幕就会显示出 CPU、内存、硬盘等信息。</p><p>硬件自检完成后，BIOS 把控制权转交给下一阶段的启动程序。</p><p>这时，BIOS 需要知道“下一阶段的启动程序”具体存放在哪一个设备。也就是说，BIOS 需要有一个外部储存设备的排序，排在前面的设备就是优先转交控制权的设备。这种排序叫做“启动顺序”（Boot Sequence）。</p><p>二、第二阶段：主引导记录</p><p>BIOS 按照“启动顺序”，把控制权转交给排在第一位的储存设备。这时，计算机读取该设备的第一个扇区，也就是读取最前面的 512 个字节。如果这 512 个字节的最后两个字节是 0x55 和 0xAA，表明这个设备可以用于启动；如果不是，表明设备不能用于启动，控制权于是被转交给”启动顺序”中的下一个设备。</p><p>这最前面的 512 个字节，就叫做“主引导记录”（Master boot record，缩写为 MBR）。</p><p>主引导记录由三个部分组成：调用操作系统的机器码、分区表（Partition table）和主引导记录签名（0x55 和 0xAA）。它的主要作用是，告诉计算机到硬盘的哪一个位置去找操作系统。</p><p>其中，分区表的作用是将硬盘分成若干个区。考虑到每个区可以安装不同的操作系统，“主引导记录”必须知道将控制权转交给哪个区。</p><p>分区表的长度只有 64 个字节，里面又分成四项，每项 16 个字节。所以，一个硬盘最多只能分四个一级分区，又叫做“主分区”。</p><p>每个主分区的 16 个字节，由 6 个部分组成：</p><p>（1） 第 1 个字节：如果为 0x80，就表示该主分区是激活分区，控制权要转交给这个分区。四个主分区里面只能有一个是激活的。</p><p>（2） 第 2-4 个字节：主分区第一个扇区的物理位置（柱面、磁头、扇区号等等）。</p><p>（3） 第 5 个字节：主分区类型。</p><p>（4） 第 6-8 个字节：主分区最后一个扇区的物理位置。</p><p>（5） 第 9-12 字节：该主分区第一个扇区的逻辑地址。</p><p>（6） 第 13-16 字节：主分区的扇区总数。决定了这个主分区的长度。</p><p>三、第三阶段：硬盘启动</p><p>这时，计算机的控制权就要转交给硬盘了，这里又分成三种情况。</p><p>情况 A：卷引导记录</p><p>计算机会读取激活分区的第一个扇区，叫做“卷引导记录”（Volume boot record，VBR）。“卷引导记录”的主要作用是，告诉计算机操作系统在这个分区里的位置。然后，计算机就会加载操作系统了。</p><p>情况 B：扩展分区和逻辑分区</p><p>随着硬盘越来越大，四个主分区已经不够了，需要更多的分区。但是，分区表只有四项，因此规定有且仅有一个区可以被定义成”扩展分区”（Extended partition）。</p><p>所谓”扩展分区”，就是指这个区里面又分成多个区。这种分区里面的分区，就叫做”逻辑分区”（logical partition）。</p><p>计算机先读取扩展分区的第一个扇区，叫做“扩展引导记录”（Extended boot record，缩写为 EBR）。它里面也包含一张 64 字节的分区表，但是最多只有两项（也就是两个逻辑分区）。</p><p>计算机接着读取第二个逻辑分区的第一个扇区，再从里面的分区表中找到第三个逻辑分区的位置，以此类推，直到某个逻辑分区的分区表只包含它自身为止（即只有一个分区项）。因此，扩展分区可以包含无数个逻辑分区。</p><p>因其繁复性，很少通过这种方式启动操作系统。如果操作系统确实安装在扩展分区，一般采用下一种方式启动。</p><p>情况 C：启动管理器</p><p>在这种情况下，不再把控制权转交给某一个分区，而是运行事先安装的“启动管理器”（boot loader），由用户选择启动哪一个操作系统。</p><p>四、第四阶段：操作系统</p><p>控制权转交给操作系统后，操作系统的内核首先被载入内存，接着是一系列的模块，比如窗口程序和网络程序等，最后跳出登陆界面。</p><p>至此，全部启动过程完成。</p>",37)]))}const s=t(r,[["render",n]]),l=JSON.parse('{"path":"/%E6%9D%82%E8%B0%88/2013-10-31.html","title":"计算机的开机过程","lang":"zh-CN","frontmatter":{"title":"计算机的开机过程","createTime":"2013/10/31","tags":null,"categories":["杂谈"]},"headers":[],"git":{"updatedTime":1742715324000,"contributors":[{"name":"yuany3721","username":"yuany3721","email":"li1116@mail.ustc.edu.cn","commits":1,"avatar":"https://avatars.githubusercontent.com/yuany3721?v=4","url":"https://github.com/yuany3721"}]},"filePathRelative":"杂谈/2013-10-31.md","categoryList":[{"id":"195eb4","sort":10015,"name":"杂谈"}]}');export{s as comp,l as data};
