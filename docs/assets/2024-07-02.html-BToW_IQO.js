import{_ as i,c as e,a,o as t}from"./app-B5m6HLX-.js";const n="/assets/extssh-BURpUmkD.png",h={};function l(r,s){return t(),e("div",null,s[0]||(s[0]=[a(`<p>参考<a href="https://github.com/orgs/community/discussions/27456" target="_blank" rel="noopener noreferrer">Authenticated but can&#39;t fetch or push</a></p><p>在<code>git pull</code>的时候，明明配置好了 ssh-key，但仍然报错：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git@github.com:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Permission</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> denied</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (publickey).</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">fatal:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Could</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> not</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> read</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> from</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> remote</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> repository.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Please</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> make</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sure</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> you</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> have</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> the</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> correct</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> access</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> rights</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">and</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> the</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> repository</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> exists.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>首先使用<code>ssh -vT git@github.com</code>验证 ssh 和 public key 是不是正常的，如果返回内容中有：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Hi</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> YourUserName!</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> You</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ve successfully authenticated, but GitHub does not provide shell access.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这样的内容，那说明 ssh 和 public key 配置没有问题。</p><p>可能导致这样问题的原因可能是 git 使用的内嵌 ssh，而这个内嵌的 ssh 找不到我们配置的 rsa 密钥。</p><p>解决办法就是先卸载 git，然后重新安装时注意选择<code>Use External OpenSSH</code>!</p><figure><img src="`+n+'" alt="external openssh" tabindex="0" loading="lazy" width="408" height="125"><figcaption>external openssh</figcaption></figure>',9)]))}const p=i(h,[["render",l]]),d=JSON.parse('{"path":"/%E9%9A%8F%E8%AE%B0/Git/2024-07-02.html","title":"git身份认证成功但public key permission denied","lang":"zh-CN","frontmatter":{"title":"git身份认证成功但public key permission denied","createTime":"2024/07/02 15:24:51","tags":["git"],"categories":["随记"]},"headers":[],"readingTime":{"minutes":0.68,"words":204},"git":{},"filePathRelative":"随记/Git/2024-07-02.md","categoryList":[{"id":"0f870d","sort":10000,"name":"随记"},{"id":"04de5f","sort":10018,"name":"Git"}]}');export{p as comp,d as data};
