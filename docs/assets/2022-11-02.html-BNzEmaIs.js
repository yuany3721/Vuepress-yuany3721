import{_ as s,c as i,a as d,o as a}from"./app-YaGH6_b-.js";const n={};function e(l,t){return a(),i("div",null,t[0]||(t[0]=[d(`<p><strong>通常，Ubuntu Server 安装完成后已经自动配置了 swap 分区，使用<code>sudo swapon --show</code>或者<code>free -m</code>查看</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 建立swapfile</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fallocate</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -l</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 4G</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /swap.img</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 设置权限</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> chmod</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 600</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /swap.img</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 配置分区生效</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mkswap</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /swap.img</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> swapon</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /swap.img</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># sudo cp /etc/fstab /etc/fstab.bak</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/swap.img none swap sw 0 0</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tee</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -a</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/fstab</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 查看分区生效情况</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># sudo swapon --show</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># free -m</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>分区大小参考：</p><table><thead><tr><th>RAM(GB)</th><th>No hibernation</th><th>With Hibernation</th><th>Maximum</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>2</td><td>2</td></tr><tr><td>2</td><td>1</td><td>3</td><td>4</td></tr><tr><td>3</td><td>2</td><td>5</td><td>6</td></tr><tr><td>4</td><td>2</td><td>6</td><td>8</td></tr><tr><td>5</td><td>2</td><td>7</td><td>10</td></tr><tr><td>6</td><td>2</td><td>8</td><td>12</td></tr><tr><td>8</td><td>3</td><td>11</td><td>16</td></tr><tr><td>12</td><td>3</td><td>15</td><td>24</td></tr><tr><td>16</td><td>4</td><td>20</td><td>32</td></tr><tr><td>24</td><td>5</td><td>29</td><td>48</td></tr><tr><td>32</td><td>6</td><td>38</td><td>64</td></tr><tr><td>64</td><td>8</td><td>72</td><td>128</td></tr><tr><td>128</td><td>11</td><td>139</td><td>256</td></tr><tr><td>256</td><td>256</td><td>512</td><td>512</td></tr><tr><td>512</td><td>512</td><td>1024</td><td>1024</td></tr><tr><td>1024</td><td>1024</td><td>2048</td><td>2048</td></tr></tbody></table>`,4)]))}const r=s(n,[["render",e]]),p=JSON.parse('{"path":"/%E9%9A%8F%E8%AE%B0/Linux/2022-11-02.html","title":"Ubuntu设置swap分区","lang":"zh-CN","frontmatter":{"title":"Ubuntu设置swap分区","createTime":"2022/11/02 16:22:28","tags":["Ubuntu"],"categories":["随记"]},"headers":[],"git":{"updatedTime":1742715324000,"contributors":[{"name":"yuany3721","username":"yuany3721","email":"li1116@mail.ustc.edu.cn","commits":1,"avatar":"https://avatars.githubusercontent.com/yuany3721?v=4","url":"https://github.com/yuany3721"}]},"filePathRelative":"随记/Linux/2022-11-02.md","categoryList":[{"id":"0f870d","sort":10010,"name":"随记"},{"id":"d513be","sort":10012,"name":"Linux"}]}');export{r as comp,p as data};
